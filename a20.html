<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drawing App: Reasoning, Janbaaz & Python</title>
    <style>
        /* --- CSS Styling --- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #fce38a, #f38181); /* Colorful Background */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }

        h1 {
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin: 10px 0;
        }

        /* Toolbar Styling */
        .toolbar {
            background: #fff;
            padding: 10px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            align-items: center;
            flex-wrap: wrap;
            justify-content: center;
            z-index: 100;
        }

        button {
            padding: 8px 15px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s;
        }

        button:active { transform: scale(0.95); }
        .btn-prev { background-color: #ff6b6b; color: white; }
        .btn-next { background-color: #4ecdc4; color: white; }
        .btn-clear { background-color: #ffe66d; color: #333; }
        .btn-eraser { background-color: #ddd; color: #333; }

        input[type="color"] {
            border: none;
            width: 40px;
            height: 40px;
            cursor: pointer;
            background: none;
        }

        /* Book/Page Container */
        .book-container {
            position: relative;
            width: 90%;
            max-width: 800px;
            height: 70vh;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            overflow: hidden;
            border: 5px solid #fff;
        }

        .page {
            display: none; /* Hide all pages by default */
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        .page.active {
            display: block; /* Show only active page */
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        /* Content Text Styling */
        .content-text {
            position: absolute;
            top: 20px;
            left: 20px;
            right: 20px;
            bottom: 20px;
            z-index: 1; /* Text is behind the canvas */
            pointer-events: none; /* Allows drawing over text */
            color: #444;
            overflow-y: auto;
        }

        .content-text h2 { color: #d35400; border-bottom: 2px solid #d35400; display: inline-block; }
        .content-text p, .content-text li { font-size: 1.1em; line-height: 1.6; }
        .code-block {
            background: #2d3436;
            color: #55efc4;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            white-space: pre-wrap;
        }

        /* Canvas Styling (Drawing Layer) */
        canvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 2; /* Canvas is on top */
            cursor: crosshair;
        }

        .page-number {
            position: absolute;
            bottom: 10px;
            right: 20px;
            color: #999;
            font-weight: bold;
        }

    </style>
</head>
<body>

    <h1>üìò Drawing App & Study Book</h1>

    <div class="toolbar">
        <button class="btn-prev" onclick="changePage(-1)">‚¨Ö Piche (Prev)</button>
        
        <label>Color:</label>
        <input type="color" id="colorPicker" value="#000000">
        
        <label>Size:</label>
        <input type="range" id="brushSize" min="1" max="20" value="3">
        
        <button class="btn-eraser" onclick="setEraser()">Eraser</button>
        <button class="btn-clear" onclick="clearCanvas()">Saaf Karein (Clear)</button>
        
        <button class="btn-next" onclick="changePage(1)">Aage (Next) ‚û°</button>
    </div>

    <div class="book-container" id="book">
        
        <div class="page active" id="page-1">
            <div class="content-text">
                <center>
                    <h2 style="font-size: 3em; color: #ff6b6b;">Meri Kitab</h2>
                    <p>Is kitab mein hum padhenge:</p>
                    <ul style="list-style: none; padding: 0;">
                        <li>üß† Reasoning (Tark Shakti)</li>
                        <li>üéñÔ∏è Janbaaz Parade</li>
                        <li>üêç Python Programming</li>
                    </ul>
                    <p><strong>Note:</strong> Aap screen par kahin bhi draw kar sakte hain!</p>
                </center>
            </div>
            <canvas id="canvas-1"></canvas>
            <div class="page-number">Page 1</div>
        </div>

        <div class="page" id="page-2">
            <div class="content-text">
                <h2>üß† Reasoning (Tark Shakti)</h2>
                <p>Reasoning ka matlab hai logic lagana. Kuch mukhya topics:</p>
                <ul>
                    <li><strong>Coding-Decoding:</strong> Agar A = 1, B = 2 hai, toh C = ?</li>
                    <li><strong>Series:</strong> 2, 4, 6, 8, ... agla number kya hoga? (Ans: 10)</li>
                    <li><strong>Blood Relations:</strong> Rishton ko samajhna.</li>
                </ul>
                <p>Is page par apne notes banayein ya solve karein.</p>
            </div>
            <canvas id="canvas-2"></canvas>
            <div class="page-number">Page 2</div>
        </div>

        <div class="page" id="page-3">
            <div class="content-text">
                <h2>üéñÔ∏è Janbaaz Parade</h2>
                <p>Janbaaz parade sahas aur anushasan ka prateek hai.</p>
                <p>Ye parade aamtaur par Republic Day ya vishesh samaroh mein hoti hai.</p>
                <ul>
                    <li>Ismein bike stunts shamil hote hain.</li>
                    <li>Sainik apni bahaduri ka pradarshan karte hain.</li>
                    <li>Team work bahut zaroori hota hai.</li>
                </ul>
                <p>Yahan niche parade ka chitra banane ki koshish karein.</p>
            </div>
            <canvas id="canvas-3"></canvas>
            <div class="page-number">Page 3</div>
        </div>

        <div class="page" id="page-4">
            <div class="content-text">
                <h2>üêç Python Programming</h2>
                <p>Python ek bahut hi saral aur shaktishali language hai.</p>
                <div class="code-block">
# Hello World Program
print("Namaste India!")

# Simple Loop
for i in range(5):
    print("Python is fun:", i)
                </div>
                <p>Variables:</p>
                <ul>
                    <li>x = 10 (Integer)</li>
                    <li>name = "Raj" (String)</li>
                </ul>
            </div>
            <canvas id="canvas-4"></canvas>
            <div class="page-number">Page 4</div>
        </div>

    </div>

    <script>
        /* --- JavaScript Logic --- */
        
        let currentPage = 1;
        const totalPages = 4;
        let isDrawing = false;
        let currentColor = '#000000';
        let currentSize = 3;

        // Page Turning Logic
        function changePage(direction) {
            // Hide current page
            document.getElementById(`page-${currentPage}`).classList.remove('active');
            
            // Calculate next page
            currentPage += direction;
            if (currentPage < 1) currentPage = 1;
            if (currentPage > totalPages) currentPage = totalPages;

            // Show new page
            document.getElementById(`page-${currentPage}`).classList.add('active');
            
            // Re-setup canvas for the new page size
            setupCanvas(currentPage);
        }

        // Setup Canvas Logic
        function setupCanvas(pageNum) {
            const canvas = document.getElementById(`canvas-${pageNum}`);
            const parent = canvas.parentElement;
            
            // Only resize if not already sized (to keep drawings)
            if (canvas.width !== parent.offsetWidth) {
                // Save current drawing content if any
                const tempCanvas = document.createElement('canvas');
                const tempCtx = tempCanvas.getContext('2d');
                tempCanvas.width = canvas.width;
                tempCanvas.height = canvas.height;
                tempCtx.drawImage(canvas, 0, 0);

                // Resize
                canvas.width = parent.offsetWidth;
                canvas.height = parent.offsetHeight;
                
                // Restore drawing (if content existed)
                const ctx = canvas.getContext('2d');
                ctx.drawImage(tempCanvas, 0, 0);
            }
        }

        // Initialize Canvases
        window.onload = function() {
            for(let i=1; i<=totalPages; i++) {
                const c = document.getElementById(`canvas-${i}`);
                c.width = c.parentElement.offsetWidth;
                c.height = c.parentElement.offsetHeight;
                addDrawingEvents(c);
            }
        };

        // Tool Logic
        const colorPicker = document.getElementById('colorPicker');
        const sizeSlider = document.getElementById('brushSize');

        colorPicker.addEventListener('change', (e) => currentColor = e.target.value);
        sizeSlider.addEventListener('input', (e) => currentSize = e.target.value);

        function setEraser() {
            currentColor = '#ffffff'; // White color acts as eraser but transparent is better usually, here simple white
            // Actually, to erase over text we need composition mode, but simple white works for white bg
            // For transparent canvas over text, 'destination-out' is needed
        }

        function clearCanvas() {
            const canvas = document.getElementById(`canvas-${currentPage}`);
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        // Drawing Event Listeners
        function addDrawingEvents(canvas) {
            const ctx = canvas.getContext('2d');

            function startDraw(e) {
                isDrawing = true;
                draw(e);
            }

            function endDraw() {
                isDrawing = false;
                ctx.beginPath();
            }

            function draw(e) {
                if (!isDrawing) return;

                // Handle Mouse and Touch
                let clientX = e.clientX;
                let clientY = e.clientY;
                if(e.touches && e.touches.length > 0) {
                    clientX = e.touches[0].clientX;
                    clientY = e.touches[0].clientY;
                }

                const rect = canvas.getBoundingClientRect();
                const x = clientX - rect.left;
                const y = clientY - rect.top;

                ctx.lineWidth = currentSize;
                ctx.lineCap = 'round';
                
                if (currentColor === '#ffffff') {
                    ctx.globalCompositeOperation = 'destination-out'; // True Eraser (Transparent)
                } else {
                    ctx.globalCompositeOperation = 'source-over';
                    ctx.strokeStyle = currentColor;
                }

                ctx.lineTo(x, y);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(x, y);
            }

            // Mouse Events
            canvas.addEventListener('mousedown', startDraw);
            canvas.addEventListener('mouseup', endDraw);
            canvas.addEventListener('mousemove', draw);

            // Touch Events (Mobile)
            canvas.addEventListener('touchstart', (e) => { e.preventDefault(); startDraw(e); });
            canvas.addEventListener('touchend', endDraw);
            canvas.addEventListener('touchmove', (e) => { e.preventDefault(); draw(e); });
        }

        // Resize handler
        window.addEventListener('resize', () => {
             // Reload to fix canvas size issues on heavy resize
             // In a pro app we would rescale the bitmap
        });

    </script>
</body>
</html>
